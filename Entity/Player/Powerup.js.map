{"version":3,"file":"Powerup.js","sourceRoot":"","sources":["../../../src/Entity/Player/Powerup.ts"],"names":[],"mappings":";;AAAA,8CAAuC;AAEvC,qCAA8B;AAC9B,sEAA+D;AAG/D,MAAqB,QAAS,SAAQ,oBAAU;IAC9C,YAAY,IAAU;QACpB,KAAK,CAAC,IAAI,CAAC,CAAC;QAEZ,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;QAC7B,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QAEtB,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;QAEf,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC;IACxB,CAAC;IAED,mBAAmB,CAAC,MAAkB;QACpC,IAAI,CAAC,CAAC,MAAM,YAAY,gBAAM,CAAC;YAAE,OAAO;QAExC,MAAM,YAAY,GAAG,wBAAc,CAAC,eAAe,CACjD,wBAAc,CAAC,UAAU,CACvB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,wBAAc,CAAC,UAAU,CAAC,MAAM,CAAC,CAC7D,CACF,CAAC;QAEF,IAAI,YAAY,IAAI,IAAI;YAAE,MAAM,IAAI,KAAK,CAAC,SAAS,CAAC,CAAA;QAEpD,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC;QAC1B,iBAAiB;QACjB,MAAM,CAAC,MAAM,GAAG,IAAI,YAAY,CAAC,MAAM,CAAC,CAAC;QACzC,MAAM,CAAC,iBAAiB,EAAE,CAAC;QAE3B,IAAI,CAAC,SAAS,EAAE,CAAC;IACnB,CAAC;IAED,WAAW,CAAC,MAAc,EAAE,UAAmB;QAC7C,IAAI,UAAU,EAAE;YACd,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,cAAc;YAC5B,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACzB,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,aAAa;YAC3B,MAAM,CAAC,EAAE,CAAC,QAAQ,GAAG,SAAS,CAAC,CAAC,CAAC,QAAQ;SAC1C;QAED,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QAC3B,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QAC3B,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACvB,CAAC;CACF;AA5CD,2BA4CC","sourcesContent":["import BaseEntity from \"../BaseEntity\";\nimport Game from \"../../Game\";\nimport Player from \"./Player\";\nimport BaseDefinition from \"./FlailDefinitions/BaseDefinition\";\nimport { Writer } from \"../../Coder\";\n\nexport default class Pownerup extends BaseEntity {\n  constructor(game: Game) {\n    super(game);\n\n    this.sentToClient = true;\n    this.detectsCollision = true;\n    this.collides = false;\n\n    this.size = 25;\n\n    this.name = \"Powerup\";\n  }\n\n  onCollisionCallback(entity: BaseEntity) {\n    if (!(entity instanceof Player)) return;\n\n    const RandomWeapon = BaseDefinition.getWeaponByName(\n      BaseDefinition.flailNames[\n        Math.floor(Math.random() * BaseDefinition.flailNames.length)\n      ]\n    );\n\n    if (RandomWeapon == null) throw new Error(\"wtf how\")\n\n    entity.weapon.terminate();\n    /** @ts-ignore */\n    entity.weapon = new RandomWeapon(entity);\n    entity.powerupsCollected++;\n    \n    this.terminate();\n  }\n\n  writeBinary(writer: Writer, isCreation: boolean) {\n    if (isCreation) {\n      writer.vu(1); // circle type\n      writer.string(this.name);\n      writer.vu(1); // glow style\n      writer.vu(0xbb2222 | 0x1000000); // color\n    }\n\n    writer.vi(this.position.x);\n    writer.vi(this.position.y);\n    writer.vu(this.size);\n  }\n}"]}